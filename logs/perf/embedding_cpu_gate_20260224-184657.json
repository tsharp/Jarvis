{
  "meta": {
    "generated_at_utc": "2026-02-24T18:47:06.194378+00:00",
    "base_url": "http://127.0.0.1:8200",
    "model": "ministral-3:8b",
    "prompts": [
      "Merke dir diese Notiz: CPU embedding gate probe alpha 2026.",
      "Fasse die zuletzt gemerkte Notiz in einem Satz zusammen.",
      "Nenne kurz zwei Risiken bei GPU-VRAM-Engpass in einer LLM-Pipeline."
    ],
    "runs": 1,
    "warmup": 0,
    "timeout_s": 120,
    "health_timeout_s": 15,
    "health_retries": 2,
    "max_retries": 1,
    "max_error_rate": 0.5,
    "env": {
      "AI_TEST_LIVE": "1",
      "AI_PERF_ENABLE": "1",
      "AI_PERF_BASELINE": "",
      "AI_PERF_MAX_REGRESSION_PCT": "15",
      "AI_PERF_EMBED_CPU_ONLY": "1",
      "AI_PERF_FORCE_ROUTING_EMBEDDING_AUTO": "1"
    },
    "embedding_cpu_mode": {
      "enabled": true,
      "prepare_ok": true,
      "restore_ok": true,
      "before_policy": "auto",
      "after_policy": "cpu_only",
      "before_overrides": {},
      "before_layer_routing": {
        "thinking": "auto",
        "control": "auto",
        "output": "auto",
        "tool_selector": "auto",
        "embedding": "auto"
      }
    }
  },
  "summary": {
    "sync": {
      "runs": 3,
      "p50_e2e_ms": 2115.301,
      "p95_e2e_ms": 2229.087,
      "p50_ttft_ms": 2115.301,
      "p95_ttft_ms": 2229.087,
      "p50_tokens_per_sec": 45.384,
      "p95_tokens_per_sec": 53.518,
      "avg_prompt_tokens_est": 17.0,
      "avg_completion_tokens_est": 80.667,
      "p95_total_tokens_est": 138.1
    },
    "stream": {
      "runs": 3,
      "p50_e2e_ms": 1123.07,
      "p95_e2e_ms": 2010.932,
      "p50_ttft_ms": 159.138,
      "p95_ttft_ms": 340.035,
      "p50_tokens_per_sec": 56.311,
      "p95_tokens_per_sec": 57.312,
      "avg_prompt_tokens_est": 17.0,
      "avg_completion_tokens_est": 57.667,
      "p95_total_tokens_est": 123.4
    },
    "overall": {
      "runs": 6,
      "p50_e2e_ms": 1616.327,
      "p95_e2e_ms": 2210.123,
      "p50_ttft_ms": 475.743,
      "p95_ttft_ms": 2210.123,
      "p50_tokens_per_sec": 52.77,
      "p95_tokens_per_sec": 57.145,
      "avg_prompt_tokens_est": 17.0,
      "avg_completion_tokens_est": 69.167,
      "p95_total_tokens_est": 138.5
    }
  },
  "failed_runs": [],
  "records": [
    {
      "mode": "sync",
      "ok": true,
      "error": null,
      "prompt": "Merke dir diese Notiz: CPU embedding gate probe alpha 2026.",
      "run_index": 10000,
      "conversation_id": "perf-sync-10000-bc90d69d",
      "status_code": 200,
      "e2e_ms": 2115.301,
      "ttft_ms": 2115.301,
      "tokens_per_sec": 45.384,
      "prompt_tokens_est": 16,
      "completion_tokens_est": 96,
      "total_tokens_est": 112,
      "response_chars": 337,
      "done_reason": "stop",
      "chunk_count": 1,
      "event_types": [],
      "context_chars": null,
      "retrieval_count": null,
      "context_sources": null
    },
    {
      "mode": "stream",
      "ok": true,
      "error": null,
      "prompt": "Merke dir diese Notiz: CPU embedding gate probe alpha 2026.",
      "run_index": 20000,
      "conversation_id": "perf-stream-20000-33878b9f",
      "status_code": 200,
      "e2e_ms": 1123.07,
      "ttft_ms": 360.135,
      "tokens_per_sec": 51.118,
      "prompt_tokens_est": 16,
      "completion_tokens_est": 39,
      "total_tokens_est": 55,
      "response_chars": 137,
      "done_reason": "",
      "chunk_count": 41,
      "event_types": [
        "control",
        "done",
        "tool_result",
        "tool_start",
        "workspace_update"
      ],
      "context_chars": null,
      "retrieval_count": null,
      "context_sources": null
    },
    {
      "mode": "sync",
      "ok": true,
      "error": null,
      "prompt": "Fasse die zuletzt gemerkte Notiz in einem Satz zusammen.",
      "run_index": 20000,
      "conversation_id": "perf-sync-20000-91c253f4",
      "status_code": 200,
      "e2e_ms": 591.351,
      "ttft_ms": 591.351,
      "tokens_per_sec": 40.585,
      "prompt_tokens_est": 16,
      "completion_tokens_est": 24,
      "total_tokens_est": 40,
      "response_chars": 85,
      "done_reason": "stop",
      "chunk_count": 1,
      "event_types": [],
      "context_chars": null,
      "retrieval_count": null,
      "context_sources": null
    },
    {
      "mode": "stream",
      "ok": true,
      "error": null,
      "prompt": "Fasse die zuletzt gemerkte Notiz in einem Satz zusammen.",
      "run_index": 40000,
      "conversation_id": "perf-stream-40000-6f3eee96",
      "status_code": 200,
      "e2e_ms": 544.545,
      "ttft_ms": 153.856,
      "tokens_per_sec": 56.311,
      "prompt_tokens_est": 16,
      "completion_tokens_est": 22,
      "total_tokens_est": 38,
      "response_chars": 79,
      "done_reason": "",
      "chunk_count": 20,
      "event_types": [
        "control",
        "done",
        "workspace_update"
      ],
      "context_chars": null,
      "retrieval_count": null,
      "context_sources": null
    },
    {
      "mode": "sync",
      "ok": true,
      "error": null,
      "prompt": "Nenne kurz zwei Risiken bei GPU-VRAM-Engpass in einer LLM-Pipeline.",
      "run_index": 30000,
      "conversation_id": "perf-sync-30000-71cb3224",
      "status_code": 200,
      "e2e_ms": 2241.73,
      "ttft_ms": 2241.73,
      "tokens_per_sec": 54.422,
      "prompt_tokens_est": 19,
      "completion_tokens_est": 122,
      "total_tokens_est": 141,
      "response_chars": 427,
      "done_reason": "stop",
      "chunk_count": 1,
      "event_types": [],
      "context_chars": null,
      "retrieval_count": null,
      "context_sources": null
    },
    {
      "mode": "stream",
      "ok": true,
      "error": null,
      "prompt": "Nenne kurz zwei Risiken bei GPU-VRAM-Engpass in einer LLM-Pipeline.",
      "run_index": 60000,
      "conversation_id": "perf-stream-60000-843533bd",
      "status_code": 200,
      "e2e_ms": 2109.583,
      "ttft_ms": 159.138,
      "tokens_per_sec": 57.423,
      "prompt_tokens_est": 19,
      "completion_tokens_est": 112,
      "total_tokens_est": 131,
      "response_chars": 393,
      "done_reason": "",
      "chunk_count": 110,
      "event_types": [
        "control",
        "done",
        "workspace_update"
      ],
      "context_chars": null,
      "retrieval_count": null,
      "context_sources": null
    }
  ]
}